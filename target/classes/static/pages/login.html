<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>欢迎登录农乐购</title>
  <style>
    .el-main {
      background-image: linear-gradient(to right, #999999, #330867);
      text-align: center;
      height: 500px;
      line-height: 50px;
    }

  </style>

</head>
<body>
<div id="app">
  <el-container style="height: 900px;border: none;">
    <el-header style="font-size: 40px;background-color: rgb(238, 241, 246);text-align: center;">助农服务系统</el-header>
    <el-main style="font-size: 40px;background-color: rgb(238, 241, 246);">
      登录
      <br>
      <el-input style="width: 350px;" maxlength="20" v-model="phone"  placeholder="请输入电话号码"></el-input><br>
      <el-input style="width: 350px;" v-model="password" placeholder="请输入密码" show-password></el-input><br><br>
      <el-button style="width: 350px;" type="primary" @click="loginCheck">登录</el-button><br>
      <el-link :underline="false" href="http://localhost:8080/pages/register.html" style="color: #1822e7;">没有账号？点击我进行注册</el-link>
    </el-main>
  </el-container>
</div>
</body>

<script src="../js/vue.js"></script>
<script src="../plugins/element-ui/lib/index.js"></script>
<link rel="stylesheet" href="../plugins/element-ui/lib/theme-chalk/index.css">
<script src="../js/axios-0.18.0.js"></script>

<script>
  new Vue({
    el:"#app",
    methods:{
      loginCheck:function(){
        axios.post("/user/login",{phone:this.phone,password:this.password}).then((res)=>{
          console.log(res.data)
          if(res.data.code === 10001){

          }else{
            if (this.phone === "" || this.password === "")this.$message.warning('请输入电话号码和密码！');
            else this.$message.error('账号或密码错误！');
          }
        });
      }
    },
    data:{
      phone: '',
      password: '',
    }
  })
</script>

</html>